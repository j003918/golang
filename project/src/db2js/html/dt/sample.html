<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title></title>
    <script src="script/jquery-1.7.1.min.js" type="text/javascript"></script>
    <script src="script/jlinq.js" type="text/javascript"></script>
	<script src="script/jquery-dynamicTable.js" type="text/javascript"></script>
    <link href="style/style.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript">

        $(function () {

            /* 例1 */
            var objColumn = [
                { ColumnName: "更新日", DataId: "UpdateDate", Width: 100, DataAlign: "center", Format: null, OnClick: null },
                { ColumnName: "时间", DataId: "Time", Width: 50, DataAlign: "center", Format: null, OnClick: null },
                { ColumnName: "标题", DataId: "Title", Width: 300, DataAlign: "left", Format: null, OnClick: null },
                { ColumnName: "发送者", DataId: "SendName", Width: 120, DataAlign: "center", Format: null, OnClick: null }
            ];

            var objData = [
                { UpdateDate: "1/12（六）", Time: "09：35", Title: "关于什么什么的请求1", SendName: "Jack" },
                { UpdateDate: "1/13（日）", Time: "09：35", Title: "关于什么什么的请求。", SendName: "Jack" },
                { UpdateDate: "1/14（一）", Time: "09：35", Title: "关于什么什么的请求。", SendName: "Jack" },
                { UpdateDate: "1/16（三）", Time: "09：35", Title: "关于什么什么的请求。", SendName: "Jack" },
                { UpdateDate: "1/17（四）", Time: "09：35", Title: "关于什么什么的请求。", SendName: "Jack" }
            ];

            $("#sampleTable").MakeTable(objColumn, objData, "SampleTable1");

            /* 例2 */
            var objConfig = [
                { DataId: "UpdateDate", DataAlign: "center", Format: null, OnClick: null },
                { DataId: "Time", DataAlign: "center", Format: null, OnClick: null },
                { DataId: "Title", DataAlign: "left", Format: null, OnClick: null },
                { DataId: "SendName", DataAlign: "center", Format: null, OnClick: null }
            ];
            $("#Table1").TableBindData(objData, objConfig);


            /* 例3 */
            var objColumn3 = [
                { ColumnName: "机构", DataId: "Data1", Width: 100, DataAlign: "left", Format: null, OnClick: null },
                { ColumnName: "所属部门", DataId: "Data2", Width: 80, DataAlign: "left", Format: null, OnClick: null },
                { ColumnName: "用户ID", DataId: "Data3", Width: 80, DataAlign: "right", Format: function (value) {
                    return "<a href=\"javascript:void(0)\" onclick=\"testClick();\">" + value + "</a>";
                }, OnClick: null
                },
                { ColumnName: "用户名", DataId: "Data4", Width: 150, DataAlign: "left", Format: function (value) {
                    return "<a href=\"javascript:void(0)\" onclick=\"testClick();\">" + value + "</a>";
                }, OnClick: null
                },
                { ColumnName: "真实姓名", DataId: "Data5", Width: 150, DataAlign: "left", Format: null, OnClick: null },
                { ColumnName: "是否可能", DataId: "Data6", Width: 40, DataAlign: "center", Format: null, OnClick: "testClick2()"}
            ];

            var objData3 = [
                { Data1: "第一厂", Data2: "行政", Data3: "120001", Data4: "Test1", Data5: "Jack", Data6: "○" },
               { Data1: "第一厂", Data2: "行政", Data3: "120002", Data4: "Test12", Data5: "Jack", Data6: "○" },
               { Data1: "第一厂", Data2: "行政", Data3: "120003", Data4: "Test13", Data5: "Jack", Data6: "○" },
               { Data1: "第一厂", Data2: "行政", Data3: "120004", Data4: "Test14", Data5: "Jack", Data6: "○" },
               { Data1: "第一厂", Data2: "行政", Data3: "120005", Data4: "Test15", Data5: "Jack", Data6: "○" },
               { Data1: "第一厂", Data2: "行政", Data3: "120006", Data4: "Test16", Data5: "Jack", Data6: "○" }
            ];
            $("#Table2").MakeTable(objColumn3, objData3, "SampleTable2","abc(this)");
            
        });

        function testClick() {
            alert("这是A标签点击事件");
        }

        function testClick2() {
            alert("这是单元格点击事件");
        }

        function abc(obj) {
            alert("用户ID:" + $(obj).find("td")[2].innerText + "  用户名" + $(obj).find("td")[3].innerText);
        }
        
    </script>
</head>
<body>
    
    <h1>例1</h1>
    <table id="sampleTable">
    </table>

    <h1>例2</h1>
    <table id="Table1" class="SampleTable1">
        <thead>
            <tr>
                <th style="width:100px;">
                    更新日
                </th>
                <th style="width:50px;">
                    時間
                </th>
                <th style="width:300px;">
                    連絡内容
                </th>
                <th style="width:120px;">
                    発信者
                </th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>


    <h1>例3</h1>
    <table id="Table2"></table>
</body>
</html>